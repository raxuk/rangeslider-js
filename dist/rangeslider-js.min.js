!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rangesliderJs=e():t.rangesliderJs=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";var n=function(t){return"number"==typeof t&&!isNaN(t)};t.exports=function(t,e){var i=(e=e||e.currentTarget).getBoundingClientRect(),s=t.originalEvent||t,r=0,o=0;return t.touches&&t.touches.length?n(t.touches[0].pageX)&&n(t.touches[0].pageY)?(r=t.touches[0].pageX,o=t.touches[0].pageY):n(t.touches[0].clientX)&&n(t.touches[0].clientY)&&(r=s.touches[0].clientX,o=s.touches[0].clientY):n(t.pageX)&&n(t.pageY)?(r=t.pageX,o=t.pageY):t.currentPoint&&n(t.currentPoint.x)&&n(t.currentPoint.y)&&(r=t.currentPoint.x,o=t.currentPoint.y),{x:r-i.left,y:o-i.top}}},function(t,e,i){(function(e){var i=e.CustomEvent;t.exports=function(){try{var t=new i("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?i:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var i=document.createEvent("CustomEvent");return e?i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):i.initCustomEvent(t,!1,!1,void 0),i}:function(t,e){var i=document.createEventObject();return i.type=t,e?(i.bubbles=Boolean(e.bubbles),i.cancelable=Boolean(e.cancelable),i.detail=e.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(this,i(2))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";i.r(e);var n=i(1),s=i.n(n);function r(t){return 0===t.offsetWidth||0===t.offsetHeight||!1===t.open}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;var o=Number.isNaN||function(t){return t!=t},a=Number.isFinite||function(t){return!("number"!=typeof t||o(t)||t===1/0||t===-1/0)};var u=function(){var t=[],e=!1;function i(){e||(e=!0,window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,66))}function n(){t.forEach(function(t){t()}),e=!1}return{add:function(e){!t.length&&window.addEventListener("resize",i),function(e){e&&t.push(e)}(e)}}}(),l={emit:function(t,e,i){t.dispatchEvent(new s.a(e,i))},isFiniteNumber:a,getFirstNumberLike:function(){if(!arguments.length)return null;for(var t=0,e=arguments.length;t<e;t++)if(i=arguments[t],a(parseFloat(i))||a(i))return arguments[t];var i},getDimension:function(t,e){var i,n=function(t){for(var e=[],i=t.parentNode;i&&r(i);)e.push(i),i=i.parentNode;return e}(t),s=n.length,o=[],a=t[e],u=0;function l(t){void 0!==t.open&&(t.open=!t.open)}if(s){for(u=0;u<s;u++)i=n[u].style,o[u]=i.display,i.display="block",i.height="0",i.overflow="hidden",i.visibility="hidden",l(n[u]);for(a=t[e],u=0;u<s;u++)i=n[u].style,l(n[u]),i.display=o[u],i.height="",i.overflow="",i.visibility=""}return a},insertAfter:function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},forEachAncestorsAndSelf:function(t,e){for(e(t);t.parentNode&&!e(t);)t=t.parentNode;return t},clamp:function(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t},optimizedResize:u},h=i(0),c=i.n(h),d={MIN_DEFAULT:0,MAX_DEFAULT:100,RANGE_CLASS:"rangeslider",FILL_CLASS:"rangeslider__fill",FILL_BG_CLASS:"rangeslider__fill__bg",HANDLE_CLASS:"rangeslider__handle",DISABLED_CLASS:"rangeslider--disabled",STEP_DEFAULT:1,START_EVENTS:["mousedown","touchstart","pointerdown"],MOVE_EVENTS:["mousemove","touchmove","pointermove"],END_EVENTS:["mouseup","touchend","pointerup"],PLUGIN_NAME:"rangeslider-js",VERTICAL_MODE:"vertical"};function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(t){var e=document&&document.createElement("div");return e.classList.add(t),e},m=function(t){return"".concat(t).replace(".","").length-1},v=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=i||{},this.element=e,this.options=i,this.onSlideEventsCount=-1,this.isInteracting=!1,this.needTriggerEvents=!1,this.constructor.count=this.constructor.count||0,this.vertical=i.vertical||e.classList.contains(d.VERTICAL_MODE),this.identifier="js-".concat(d.PLUGIN_NAME,"-").concat(this.constructor.count++),this.min=l.getFirstNumberLike(i.min,parseFloat(e.getAttribute("min")),d.MIN_DEFAULT),this.max=l.getFirstNumberLike(i.max,parseFloat(e.getAttribute("max")),d.MAX_DEFAULT),this.value=l.getFirstNumberLike(i.value,parseFloat(e.getAttribute("value")),this.min+(this.max-this.min)/2),this.step=l.getFirstNumberLike(i.step,parseFloat(e.getAttribute("step")),d.STEP_DEFAULT),this.percent=null,this._updatePercentFromValue(),this.toFixed=m(this.step),this.range=p(d.RANGE_CLASS),this.range.id=this.identifier,this.vertical&&!this.range.classList.contains(d.VERTICAL_MODE)&&this.range.classList.add(d.VERTICAL_MODE),this.fillBg=p(d.FILL_BG_CLASS),this.fill=p(d.FILL_CLASS),this.handle=p(d.HANDLE_CLASS),["fillBg","fill","handle"].forEach(function(t){return n.range.appendChild(n[t])}),["min","max","step"].forEach(function(t){return e.setAttribute(t,"".concat(n[t]))}),this._setValue(this.value),l.insertAfter(e,this.range),e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",e.style.opacity="0",["_update","_handleDown","_handleMove","_handleEnd","_startEventListener","_changeEventListener"].forEach(function(t){n[t]=n[t].bind(n)}),this._init(),l.optimizedResize.add(this._update),d.START_EVENTS.forEach(function(t){return n.range.addEventListener(t,n._startEventListener)}),e.addEventListener("change",this._changeEventListener)}var e,i,n;return e=t,(i=[{key:"_init",value:function(){this._update(),this.options.onInit&&this.options.onInit.call(this,this.value,this.percent,this.position)}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(t){var e=t.target,i=this.identifier,n=!1;l.forEachAncestorsAndSelf(e,function(t){return n=t.id===i&&!t.classList.contains(d.DISABLED_CLASS)}),n&&this._handleDown(t)}},{key:"_changeEventListener",value:function(t,e){(e&&e.origin)!==this.identifier&&this._setPosition(this._getPositionFromValue(t.target.value))}},{key:"_update",value:function(){this.handleX=this.vertical?l.getDimension(this.handle,"offsetHeight"):l.getDimension(this.handle,"offsetWidth"),this.rangeX=this.vertical?l.getDimension(this.range,"offsetHeight"):l.getDimension(this.range,"offsetWidth"),this.maxHandleX=this.rangeX-this.handleX,this.grab=this.handleX/2,this.position=this._getPositionFromValue(this.value),this.range.classList[this.element.disabled?"add":"remove"](d.DISABLED_CLASS),this._setPosition(this.position),this._updatePercentFromValue(),this._emit("change")}},{key:"_listen",value:function(t){var e=this,i="".concat(t?"add":"remove","EventListener");d.MOVE_EVENTS.forEach(function(t){return document&&document[i](t,e._handleMove)}),d.END_EVENTS.forEach(function(t){document&&document[i](t,e._handleEnd),e.range[i](t,e._handleEnd)})}},{key:"_handleDown",value:function(t){if(t.preventDefault(),this.isInteracting=!0,this._listen(!0),!t.target.classList.contains(d.HANDLE_CLASS)){var e=this.vertical?c()(t,this.range).y:c()(t,this.range).x,i=this.vertical?this.range.getBoundingClientRect().top:this.range.getBoundingClientRect().left,n=this.vertical?this.handle.getBoundingClientRect().top-i:this.handle.getBoundingClientRect().left-i;this._setPosition(e-this.grab),e>=n&&e<n+this.handleX&&(this.grab=e-n),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(t){this.isInteracting=!0;var e=this.vertical?c()(t,this.range).y:c()(t,this.range).x;this._setPosition(e-this.grab)}},{key:"_handleEnd",value:function(t){t.preventDefault(),this._listen(!1),this._emit("change"),(this.isInteracting||this.needTriggerEvents)&&this.options.onSlideEnd&&this.options.onSlideEnd.call(this,this.value,this.percent,this.position),this.onSlideEventsCount=0,this.isInteracting=!1}},{key:"_setPosition",value:function(t){var e=this.isInteracting?this._getValueFromPosition(l.clamp(t,0,this.maxHandleX)):this.value,i=this._getPositionFromValue(e);this.vertical?(this.fill.style.height=i+this.grab+"px",this.handle.style.webkitTransform=this.handle.style.transform="translate(-50%, ".concat(i,"px)")):(this.fill.style.width=i+this.grab+"px",this.handle.style.webkitTransform=this.handle.style.transform="translate(".concat(i,"px, -50%)")),this._setValue(e),this.position=i,this.value=e,this._updatePercentFromValue(),(this.isInteracting||this.needTriggerEvents)&&(this.options.onSlideStart&&0===this.onSlideEventsCount&&this.options.onSlideStart.call(this,this.value,this.percent,this.position),this.options.onSlide&&this.options.onSlide.call(this,this.value,this.percent,this.position)),this.onSlideEventsCount++}},{key:"_getPositionFromValue",value:function(t){return(t-this.min)/(this.max-this.min)*this.maxHandleX}},{key:"_getValueFromPosition",value:function(t){var e=t/(this.maxHandleX||1),i=this.step*Math.round(e*(this.max-this.min)/this.step)+this.min;return Number(i.toFixed(this.toFixed))}},{key:"_setValue",value:function(t){(t=l.clamp(t,this.min,this.max))===this.value&&t===this.element.value||(this.value=this.element.value=t,this._emit("input"))}},{key:"_emit",value:function(t){l.emit(this.element,t,{origin:this.identifier})}},{key:"update",value:function(t,e){return t=t||{},Object.keys(t).forEach(function(e){return"string"==typeof t[e]&&(t[e]=parseFloat(t[e]))}),this.needTriggerEvents=e,l.isFiniteNumber(t.min)&&(this.element.setAttribute("min","".concat(t.min)),this.min=t.min),l.isFiniteNumber(t.max)&&(this.element.setAttribute("max","".concat(t.max)),this.max=t.max),l.isFiniteNumber(t.step)&&(this.element.setAttribute("step","".concat(t.step)),this.step=t.step,this.toFixed=m(t.step)),l.isFiniteNumber(t.value)&&this._setValue(t.value),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){var t=this;"undefined"!=typeof window&&window.removeEventListener("resize",this._update,!1),d.START_EVENTS.forEach(function(e){return t.range.removeEventListener(e,t._startEventListener)}),this.element.removeEventListener("change",this._changeEventListener),this.element.style.cssText="",delete this.element[d.PLUGIN_NAME],this.range.parentNode.removeChild(this.range)}}])&&f(e.prototype,i),n&&f(e,n),t}();e.default={RangeSlider:v,utils:l,create:function(t,e){function i(t){t[d.PLUGIN_NAME]=t[d.PLUGIN_NAME]||new v(t,e)}t&&(t.length?Array.prototype.slice.call(t).forEach(function(t){return i(t)}):i(t))}}}]).default});